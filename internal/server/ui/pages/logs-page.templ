package pages

import "github.com/markojerkic/svarog/internal/server/types"
import "github.com/markojerkic/svarog/internal/server/ui/components/logs"

type LogsPageProps struct {
	Logs []types.StoredLog
}

templ LogsPage(props LogsPageProps) {
	@AdminLayout(AdminLayoutProps{Title: "Svarog"}) {
		<script defer src="/assets/js/log-menu.js"></script>
		<div
			class="flex flex-col-reverse overflow-auto h-full"
			id="logs-container"
		>
			for _, log := range props.Logs {
				@logs.LogLine(logs.LogLineProps{LogLine: log})
			}
		</div>
		@logs.SharedLogMenu()
	}
	<script>
		(function scrollToBottom() {
			const logsContainer = document.getElementById("logs-container");
			logsContainer.scrollTop = 0;
		})();
	</script>
}
